<html>
	<head>
		<title>购物车</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
		<meta content="no-cache,must-revalidate" http-equiv="Cache-Control">
		<meta content="telephone=no, address=no" name="format-detection">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta content="no-cache" http-equiv="pragma">
		<meta content="0" http-equiv="expires">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<link rel="stylesheet" type="text/css" href="../../css/reset.css">
		<link rel="stylesheet" type="text/css" href="../../css/center.css">
		<link rel="stylesheet" type="text/css" href="../../css/dropload.min.css">
		<script type="text/javascript" src="../../js/zepto.min.js"></script>
		<script type="text/javascript" src="../../js/dropload.min.js"></script>
		<script type="text/javascript" src="../../js/size.js"></script>

	</head>
	<body>
		<div class="shopbuslist">
			<div class="topFiexdBtn">
				<div class="returnBtn"><img src="../../img/back_icon.png" /></div>
				<div>购物车</div>
			</div>
			<div class="kong2"></div>
			<div class="topsc" style="margin-top: 1rem;">
				<div class="fr" style="margin-right: 0.3rem">编辑</div>
			</div>
			<div class="cons">
				<div class="list">
					<div class="ts flex">
						<div class="imgs">
							<img src="../../img/getfalse_icon.png">
						</div>
						<div class="flex_item">
							<img src="../../img/store_icon.png">店铺名字
						</div>
					</div>
					<ul>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
					</ul>
				</div>
				<div class="list">
					<div class="ts flex">
						<div class="imgs">
							<img src="../../img/getfalse_icon.png">
						</div>
						<div class="flex_item">
							<img src="../../img/store_icon.png">店铺名字
						</div>
					</div>
					<ul>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
					</ul>
				</div>
				<div class="list">
					<div class="ts flex">
						<div class="imgs">
							<img src="../../img/getfalse_icon.png">
						</div>
						<div class="flex_item">
							<img src="../../img/store_icon.png">店铺名字
						</div>
					</div>
					<ul>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
					</ul>
				</div>
				<div class="list">
					<div class="ts flex">
						<div class="imgs">
							<img src="../../img/getfalse_icon.png">
						</div>
						<div class="flex_item">
							<img src="../../img/store_icon.png">店铺名字
						</div>
					</div>
					<ul>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
						<li class="line-wrapper">
							<div class="line-scroll-wrapper">
								<div class="fl line-normal-wrapper">
									<div class="fl left">
										<div class="btn"><img src="../../img/getfalse_icon.png"></div>
									</div>
									<div class="fl right">

										<div class="img fl"><a><img src="../../img/goodsa.png"></a></div>
										<div class="fl con">
											<a>
												<div class="title">产品标题产品标题产品标题产品标题产品标题产品标题</div>
											</a>
											<div class="f">
												<div class="money fl">¥<a>77.99</a></div>
												<div class="count fr">
													<div class="fl jian">-</div>
													<div class="fl input"><input type="text" value="1" onkeyup="if(/\D/.test(this.value)){this.value='1';}"></div>
													<div class="add fl">+</div>
													<div class="clear"></div>
												</div>
												<div class="clear"></div>
											</div>
										</div>
										<div>
											
										</div>
										<div class="clear"></div>
									</div>
									<div class="clear"></div>
								</div>
								<div class="line-btn-delete"><button>删&nbsp;除</button></div>
								<div class="clear"></div>
							</div>
						</li>
					</ul>
				</div>
			</div>
			<div class="kong"></div>
			<div class="vs flex">
				<div class="flex_item left flex">
					<div class="img"><img src="../../img/getfalse_icon.png">全选</div>
					<div class="all">合计：<span>¥<a>0.00</a></span></div>
					<div class="info">不含运费</div>
				</div>
				<div class="gos"><a href="ordersubmit.html">结算(2)</a></div>
			</div>
			<div class="newsbg">
				<div class="news">
					<div class="img"><img src="../img/gantan.png"></div>
					<div class="txt">您确定要删除宝贝吗</div>
					<div class="fas">取&nbsp;消</div>
					<div class="ges">确&nbsp;定</div>
				</div>	
			</div>
		</div>
		<div class="footer_toul flex">
			<div class="flex_item">
				<a href="../../index.html">
					<div class="home"><img src="../../img/home.png" /></div>
					<div class="text">首页</div>
				</a>
			</div>
			<div class="flex_item">
				<a href="../lbs.html">
					<div class="lbs"><img src="../../img/lbs.png" /></div>
					<div class="text">附近</div>
				</a>
			</div>
			<div class="flex_item on">
				<div class="car"><img src="../../img/cart_fill_light.png" /></div>
				<div class="text">购物车</div>
			</div>
			<div class="flex_item">
				<a href="user.html">
					<div class="peo"><img src="../../img/people.png" /></div>
					<div class="text">我的</div>
				</a>
			</div>
		</div>
	</body>
</html>
<script type="text/javascript">
	$(function(){
		$(".returnBtn").click(function(){
			history.back()
		})
		$(".shopbuslist .ts .imgs").click(function(){
			if($(this).hasClass("on")){
				$(this).removeClass("on");
				$(this).find("img").attr('src',"../../img/getfalse_icon.png")
				$(this).parent().parent().find(".btn").find("img").attr('src',"../../img/getfalse_icon.png")
				$(this).parent().parent().find(".btn").removeClass("on");
				sm();
			}else{
				$(this).addClass("on");
				$(this).find("img").attr('src',"../../img/gettrue_icon.png");
				$(this).parent().parent().find(".btn").find("img").attr('src',"../../img/gettrue_icon.png");
				$(this).parent().parent().find(".btn").addClass("on");
				sm();
			}
		})
		$(".shopbuslist ul li .right .count div.add").click(function(){
			var val = parseInt($(this).prev(".input").find('input').val());
			val++;
			$(this).prev(".input").find('input').val(val);	
		})
		$(".shopbuslist ul li .right .count div.jian").click(function(){
			var val = parseInt($(this).next(".input").find('input').val());
			val--;

	    	if(val < 1 ){
	    		val = 1;
	    		alert("不能再点了哦");
	    	}
			$(this).next(".input").find('input').val(val);	
		})
		$(".shopbuslist ul li .right .count input").blur(function(){
			var s = parseInt($(this).val());
			if(s<=1){
				$(this).val(1)
			}
		})
		$(".shopbuslist ul li .btn").click(function(){
			if($(this).hasClass("on")){
				$(this).removeClass("on");
				$(this).find("img").attr('src',"../../img/getfalse_icon.png")
				sm();
				sa(this);
			}else{
				$(this).addClass("on");
				$(this).find("img").attr('src',"../../img/gettrue_icon.png");
				sm();
				sa(this);
			}
		})
		var sm = function(){
			var s = $(".shopbuslist ul li .btn").length;
			var g = $(".shopbuslist ul li .btn.on").length;
			if(s<=g){
				$(".shopbuslist .vs .img").addClass("on");
				$(".shopbuslist .vs .img").find("img").attr('src',"../../img/gettrue_icon.png")
			}else{
				$(".shopbuslist .vs .img").removeClass("on");
				$(".shopbuslist .vs .img").find("img").attr('src',"../../img/getfalse_icon.png")
			}
		}
		var sa = function(_self){
			var s = $(_self).parents(".list").find(".btn").length;
			var g = $(_self).parents(".list").find(".btn.on").length;
			if(s<=g){
				$(_self).parents(".list").find(".imgs").addClass("on");
				$(_self).parents(".list").find(".imgs").find("img").attr('src',"../../img/gettrue_icon.png")
			}else{
				$(_self).parents(".list").find(".imgs").removeClass("on");
				$(_self).parents(".list").find(".imgs").find("img").attr('src',"../../img/getfalse_icon.png")
			}
		}
		$(".shopbuslist .vs .img").click(function(){
			if($(this).hasClass("on")){
				$(this).removeClass("on");
				$(this).find("img").attr('src',"../../img/getfalse_icon.png")
				$(".shopbuslist ul li .btn").removeClass("on");
				$(".shopbuslist ul li .btn").find("img").attr('src',"../../img/getfalse_icon.png")
				$(".shopbuslist .ts .imgs").removeClass("on");
				$(".shopbuslist .ts .imgs").find("img").attr('src',"../../img/getfalse_icon.png")
			}else{
				$(this).addClass("on");
				$(this).find("img").attr('src',"../../img/gettrue_icon.png")
				$(".shopbuslist ul li .btn").addClass("on");
				$(".shopbuslist ul li .btn").find("img").attr('src',"../../img/gettrue_icon.png")
				$(".shopbuslist .ts .imgs").addClass("on");
				$(".shopbuslist .ts .imgs").find("img").attr('src',"../../img/gettrue_icon.png")

			}
		})
		// 设定每一行的宽度=屏幕宽度+按钮宽度
    	$(".line-scroll-wrapper").width($(".line-wrapper").width() + $(".line-btn-delete").width());
   	 	// 设定常规信息区域宽度=屏幕宽度
    	$(".line-normal-wrapper").width($(".line-wrapper").width());
    	$('.cons').dropload({
	        scrollArea : window,
	        loadDownFn : function(me){
	        	setTimeout(function(){
                    me.resetload();
                },1000);
	            // $.ajax({
	            //     type: 'GET',
	            //     url: 'json/more.json',
	            //     dataType: 'json',
	            //     success: function(data){
	            //         var result = '';
	            //         for(var i = 0; i < data.lists.length; i++){
	            //             result +=   'hello';
	            //         }
	            //         // 为了测试，延迟1秒加载
	            //         setTimeout(function(){
	            //             $('#lmess').append(result);
	            //             me.resetload();
	            //         },1000);
	            //     },
	            //     error: function(xhr, type){
	            //         alert('Ajax error!');
	            //         me.resetload();
	            //     }
	            // });
	        }
	    });
	    $(".topsc .fr").click(function(){
	    	if($(this).hasClass("on")){
	    		$(this).removeClass("on");
		    	$(this).text("编辑");
		    	$(".line-wrapper").animate({'margin-left':'0px'},100)
	    	}
	    	else{
		    	$(this).addClass("on");
		    	$(this).text("取消");
		    	$(".line-wrapper").animate({'margin-left':'-50px'},100)
		    }
	    })
	    $(".line-btn-delete").click(function(){
        	var d = $(this).parents(".line-wrapper");
        	var parent = d.parents(".list");
        	$(this).parents("li").remove();
        	if(parent.find("li").length > 0){

        	}else{
        		parent.remove();
        	}
	    })
	})
</script>